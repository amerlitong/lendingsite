{% extends "lendingapp/base.html" %}
{% load extras %}
{% block title %}
	<title>Credits</title>
{% endblock %}
{% block content %}
<h2>Credits for {{ client.name}}</h2>
	<table class="table table-striped table-responsive table-bordered">
		<thead>
			<tr>
				<th>AMOUNT</th>
				<th>INTEREST</th>
				<th>DATE</th>
				<th>PAYMENT</th>
				<th>BALANCE</th>
				<th>REMARKS</th>
				<th>ACTIONS</th>
			</tr>
		</thead>
		<tbody>
			{% for credit in credits %}
				<tr>
					<td>{{ credit.amount }}</td>
					<td>{{ credit.interest|percent }}</td>
					<td>{{ credit.dt }}</td>
					<td>{{ credit.payments }}</td>
					<td>{{ credit.amount|sub:credit.payments }}</td>
					<td>{{ credit.remarks }}</td>
					<td>
						<a href="{% url 'payment_add' credit.id %}">Add Payment</a><br>
						<a href="{% url 'credit_edit' credit.id %}">Edit</a><br>
						<a href="{% url 'credit_del' credit.id %}">Delete</a>
					</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>
	<nav aria-label="Page navigation example">
	  <ul class="pagination">
	  	{% if credits.has_previous %}
	    	<li class="page-item"><a class="page-link" href="?page={{ credits.previous_page_number }}">Previous</a></li>
	    {% endif %}
	    {% for i in credits.paginator.num_pages|_range %}
	    	 <li class="page-item"><a class="page-link" href="?page={{ forloop.counter }}">{{ forloop.counter }}</a></li>
	    {% endfor %}
	    {% if credits.has_next %}
	    	<li class="page-item"><a class="page-link" href="?page={{ credits.next_page_number }}">Next</a></li>
	    {% endif %}
	  </ul>
	</nav>
{% endblock %}