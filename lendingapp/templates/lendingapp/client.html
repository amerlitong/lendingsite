{% extends "lendingapp/base.html" %}
{% load extras %}
{% block title %}
	<title>Clients</title>
{% endblock %}
{% block content %}
<h2>Clients</h2>
	<table class="table table-responsive table-striped table-bordered">
		<thead>
			<tr>
				<th>ID</th>
				<th>NAME</th>
				<th>ADDRESS</th>
				<th>MOBILE</th>
				<th>REMARKS</th>
				<th>CREDITS</th>
				<th>PAYMENTS</th>
				<th>BALANCE</th>
				<th>ACTIONS</th>
			</tr>
		</thead>
		<tbody>
			{% for client in clients %}
				<tr>
					<td>{{ client.id }}</td>
					<td>{{ client.name }}</a></td>
					<td>{{ client.address }}</td>
					<td>{{ client.mobile }}</td>
					<td>{{ client.remarks }}</td>
					<td><a href="{% url 'credit' client.id  %}">{{ client.credits }}</a></td>
					<td><a href="{% url 'payment' client.id  %}">{{ client.payments }}</a></td>
					<td>{{ client.credits|sub:client.payments }}</td>
					<td>
						<a href="{% url 'credit_add' client.id  %}">Add Credit</a><br>
						<a href="{% url 'client_edit' client.id  %}">Edit</a><br>
						<a href="{% url 'client_del' client.id  %}">Delete</a><br>
					</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>
	<nav aria-label="Page navigation example">
	  <ul class="pagination">
	  	{% if clients.has_previous %}
	    	<li class="page-item"><a class="page-link" href="?page={{ clients.previous_page_number }}">Previous</a></li>
	    {% endif %}
	    {% for i in clients.paginator.num_pages|_range %}
	    	 <li class="page-item"><a class="page-link" href="?page={{ forloop.counter }}">{{ forloop.counter }}</a></li>
	    {% endfor %}
	    {% if clients.has_next %}
	    	<li class="page-item"><a class="page-link" href="?page={{ clients.next_page_number }}">Next</a></li>
	    {% endif %}
	  </ul>
	</nav>
{% endblock %}